(this["webpackJsonpmy-quiz"]=this["webpackJsonpmy-quiz"]||[]).push([[0],{21:function(e,t,n){e.exports=n(47)},27:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(19),i=n.n(r),u=(n(26),n(27),n(4)),o=n(5),c=n(7),l=n(6),m=n(1),p=n(8),h=(n(28),n(20)),d=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={playername:"",numQuestions:5,timerSelected:!1,timer:null,storedTimer:null},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleCheckChange=e.handleCheckChange.bind(Object(m.a)(e)),e.startQuiz=e.startQuiz.bind(Object(m.a)(e)),e.renderTimerOption=e.renderTimerOption.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({playername:this.props.playername,numQuestions:this.props.totalquestions,timerSelected:this.props.timerselected,timer:this.props.timer,storedTimer:this.props.timer})}},{key:"handleChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"handleCheckChange",value:function(){if(this.state.timerSelected)this.setState((function(e,t){return{timerSelected:!e.timerSelected,timer:null,storedTimer:e.timer}}));else{var e=null==this.state.storedTimer?"30":this.state.storedTimer;this.setState((function(t,n){return{timerSelected:!t.timerSelected,timer:e}}))}}},{key:"startQuiz",value:function(){this.props.startquiz(this.state.playername,this.state.numQuestions,this.state.timer,this.state.timerSelected)}},{key:"renderTimerOption",value:function(){return s.a.createElement("div",{className:this.state.timerSelected?"timer-options-yes":"timer-options-no"},s.a.createElement("label",null,"Seconds:",s.a.createElement("select",{className:"mm-timer-options",name:"timer",defaultValue:this.props.timerselected?this.props.timer:"30",onChange:this.handleChange},s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"30"},"30"),s.a.createElement("option",{value:"45"},"45"),s.a.createElement("option",{value:"60"},"60"))))}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-menu"},s.a.createElement("div",{className:"jumbotron-main-menu"},s.a.createElement("h1",null,"Welcome to the quiz app!"),s.a.createElement("p",{className:"jumbotron-p"},"This is a simple quiz app that takes it's questions from an online question database that was made available for free use!")),s.a.createElement("div",{className:"main-menu-form"},s.a.createElement("form",null,s.a.createElement("label",null,"Enter Player Name:",s.a.createElement("input",{className:"mm-pname-tb",name:"playername",type:"text",defaultValue:this.state.playername,onChange:this.handleChange,placeholder:"Enter Player Name"})),s.a.createElement("br",null),s.a.createElement("label",null,"Enter number of questions you would like:",s.a.createElement("input",{className:"mm-numq-number",name:"numQuestions",type:"number",min:"1",max:"20",defaultValue:this.props.totalquestions,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("label",{className:"timer-checkbox"},"Enable Timer:",s.a.createElement("input",{className:"mm-timer-checkbox",name:"timerSelected",type:"checkbox",checked:this.state.timerSelected,onChange:this.handleCheckChange})),this.renderTimerOption(),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("button",{name:"startquiz",className:"start-quiz-btn",type:"button",onClick:this.startQuiz},"Start Quiz")))))}}]),t}(a.Component),b=n(3),v=n.n(b),f=n(9),y=n.n(f);var g=function(e){return s.a.createElement("div",{className:"questioncount"},"Question # ",s.a.createElement("span",null,e.curQuestionNum)," of ",s.a.createElement("span",null,e.totalquestions))};var w=function(e){return s.a.createElement("div",{className:"inquizheader"},s.a.createElement("h1",null," Player: ",e.playername," "),s.a.createElement(g,{curQuestionNum:e.curQuestionNum,totalquestions:e.totalquestions}))};var k=function(e){return s.a.createElement("div",{className:"question"},e.curquestion)};var Q=function(e){return s.a.createElement("div",{className:"answer-option"},s.a.createElement("button",{type:"button",className:e.questioninprogress?e.playeranswer===e.curoption?"selected-option":"option-button":e.answer===e.curoption?"selected-correct":e.playeranswer===e.curoption?"selected-incorrect":"option-button-no-hover",onClick:function(){return e.updateanswer(e.curoption)},disabled:!e.questioninprogress},e.curoption))},O=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"timer"},this.props.curtime)}}]),t}(a.Component),q=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={allQuestionData:null,curToken:"",curQuestion:"",curOptions:[],curAnswer:null,curScore:0,qAnswer:"",playerAnswer:"",curQuestionNum:1,questionInProgress:!1,curTimer:null},e.getNewQuestion=e.getNewQuestion.bind(Object(m.a)(e)),e.renderQuestion=e.renderQuestion.bind(Object(m.a)(e)),e.randomizeArray=e.randomizeArray.bind(Object(m.a)(e)),e.checkAnswer=e.checkAnswer.bind(Object(m.a)(e)),e.renderAnswerOptions=e.renderAnswerOptions.bind(Object(m.a)(e)),e.updatePlayerAnswer=e.updatePlayerAnswer.bind(Object(m.a)(e)),e.renderSubmitButton=e.renderSubmitButton.bind(Object(m.a)(e)),e.renderNextQButton=e.renderNextQButton.bind(Object(m.a)(e)),e.nextQuestionOrResults=e.nextQuestionOrResults.bind(Object(m.a)(e)),e.timerCountDown=e.timerCountDown.bind(Object(m.a)(e)),e.renderTimer=e.renderTimer.bind(Object(m.a)(e)),e.startTimer=e.startTimer.bind(Object(m.a)(e)),e.submitAnswer=e.submitAnswer.bind(Object(m.a)(e)),e.getQuestionData=e.getQuestionData.bind(Object(m.a)(e)),e.setupQuestion=e.setupQuestion.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.props.timerselected&&clearInterval(this.timer)}},{key:"componentDidMount",value:function(){var e,t=this;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Quiz did mount"),e=this,""!==this.props.token){n.next=8;break}return"https://opentdb.com/api_token.php?command=request",n.next=6,v.a.awrap(y.a.get("https://opentdb.com/api_token.php?command=request").then((function(t){e.props.settoken(t.data.token),e.setState({curToken:t.data.token})})).catch((function(e){console.log(e)})));case 6:n.next=9;break;case 8:this.setState({curToken:this.props.token});case 9:return n.next=11,v.a.awrap(this.getQuestionData());case 11:this.setupQuestion(),this.setState({questionInProgress:!0,curTimer:this.props.time},(function(){t.props.timerselected&&t.startTimer()}));case 13:case"end":return n.stop()}}),null,this)}},{key:"getQuestionData",value:function(){var e,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this,t="https://opentdb.com/api.php?amount=",t+=this.props.totalquestions+"&token="+this.state.curToken,n.next=5,v.a.awrap(y.a.get(t).then((function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.setState({allQuestionData:t.data.results});case 1:case"end":return n.stop()}}))})).catch((function(e){console.log(e)})));case 5:case"end":return n.stop()}}),null,this)}},{key:"setupQuestion",value:function(){var e,t=this.state.curQuestionNum-1,n=this.state.allQuestionData[t].incorrect_answers;for(n.push(this.state.allQuestionData[t].correct_answer.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),e=0;e<n.length-1;e++)n[e]=n[e].replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&");var a=n[n.length-1],s=this.randomizeArray(n),r=this.state.allQuestionData[t].question.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&");this.setState({qAnswer:a,curQuestion:r,curOptions:s})}},{key:"getNewQuestion",value:function(){var e,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this,t="https://opentdb.com/api.php?amount=1",t+="&token="+this.state.curToken,n.next=5,v.a.awrap(y.a.get(t).then((function(t){var n,a,s,r,i;return v.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,v.a.awrap(t.data.results[0].incorrect_answers);case 2:for((n=u.sent).push(t.data.results[0].correct_answer.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),a=0;a<n.length-1;a++)n[a]=n[a].replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&");return s=n[n.length-1],u.next=8,v.a.awrap(e.randomizeArray(n));case 8:r=u.sent,i=t.data.results[0].question.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&"),console.log("Question"),e.setState((function(e,t){return{qAnswer:s,curQuestion:i,curOptions:r}}));case 12:case"end":return u.stop()}}))})).catch((function(e){console.log(e)})));case 5:case"end":return n.stop()}}),null,this)}},{key:"randomizeArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}},{key:"checkAnswer",value:function(){this.state.qAnswer==this.state.playerAnswer&&this.setState((function(e){return{curScore:e.curScore+1}}))}},{key:"startTimer",value:function(){this.timer=setInterval(this.timerCountDown,1e3)}},{key:"timerCountDown",value:function(){var e=this.state.curTimer;e>0&&!1!==this.state.questionInProgress?this.setState({curTimer:e-1}):(clearInterval(this.timer),this.setState({questionInProgress:!1}))}},{key:"renderQuestion",value:function(){return s.a.createElement(k,{curquestion:this.state.curQuestion})}},{key:"updatePlayerAnswer",value:function(e){this.setState({playerAnswer:e})}},{key:"submitAnswer",value:function(e){this.setState({questionInProgress:!1}),this.checkAnswer(),this.props.timerselected&&clearInterval(this.timer)}},{key:"nextQuestionOrResults",value:function(e){var t=this;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.curQuestionNum<this.props.totalquestions?(console.log("b4"+this.state.curQuestionNum),this.setState((function(e,t){return{playerAnswer:"",curQuestionNum:e.curQuestionNum+1}}),(function(){console.log("aft"+t.state.curQuestionNum),t.setupQuestion()})),this.props.timerselected&&this.setState({questionInProgress:!0,curTimer:this.props.time},this.startTimer())):this.props.viewresults(this.state.curScore);case 1:case"end":return e.stop()}}),null,this)}},{key:"renderSubmitButton",value:function(){return s.a.createElement("button",{type:"button",className:"submit-answer-btn",onClick:this.submitAnswer,disabled:!this.state.questionInProgress||""===this.state.playerAnswer},"Submit")}},{key:"renderNextQButton",value:function(){return s.a.createElement("button",{type:"button",className:this.props.totalquestions===this.state.curQuestionNum?"view-results-btn":"next-question-btn",onClick:this.nextQuestionOrResults,disabled:0==this.state.curQuestionNum||this.state.questionInProgress},this.props.totalquestions!=this.state.curQuestionNum?"Next":"View Results")}},{key:"renderTimer",value:function(){return this.props.timerselected?s.a.createElement(O,{curtime:this.state.curTimer}):null}},{key:"renderAnswerOptions",value:function(){var e=this,t=this.state.curOptions.map((function(t){return s.a.createElement(Q,{key:t,curoption:t,playeranswer:e.state.playerAnswer,updateanswer:e.updatePlayerAnswer,answer:e.state.qAnswer,questioninprogress:e.state.questionInProgress})}));return s.a.createElement("div",{className:"answer-options"},t)}},{key:"render",value:function(){var e=this.state.questionInProgress?this.renderSubmitButton():this.renderNextQButton();return s.a.createElement("div",{className:"quiz"},s.a.createElement(w,{playername:this.props.playername,curQuestionNum:this.state.curQuestionNum,totalquestions:this.props.totalquestions}),this.renderQuestion(),this.renderTimer(),s.a.createElement("div",null,this.renderAnswerOptions()),s.a.createElement("div",{className:"quiz-submit-results-btn"},e))}}]),t}(a.Component);var N=function(e){return s.a.createElement("div",{className:"results"},s.a.createElement("div",{className:"results-text"},s.a.createElement("h1",null,"Congratulations ",e.playername,"!"),s.a.createElement("p",null,"Your score was:"),s.a.createElement("p",null,e.score," / ",e.totalquestions)),s.a.createElement("div",{className:"results-btns"},s.a.createElement("button",{className:"play-again-btn",onClick:e.playquizagain},"Play Again!"),s.a.createElement("button",{className:"return-to-main-menu-btn",onClick:function(){return e.returntomainmenu(1)}},"Return to Main Menu")))},E=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={playerName:"",previousQuestions:[],curQuestion:"",curQuestionID:"",curOptions:[],curAnswer:"",totalQuestions:5,count:0,score:0,sessionToken:"",firstGame:!0,mainMenu:!0,timerSelected:!1,timer:null,pageNum:1},e.startQuiz=e.startQuiz.bind(Object(m.a)(e)),e.renderMainMenu=e.renderMainMenu.bind(Object(m.a)(e)),e.renderQuiz=e.renderQuiz.bind(Object(m.a)(e)),e.renderResults=e.renderResults.bind(Object(m.a)(e)),e.renderSwitch=e.renderSwitch.bind(Object(m.a)(e)),e.viewResults=e.viewResults.bind(Object(m.a)(e)),e.playQuizAgain=e.playQuizAgain.bind(Object(m.a)(e)),e.renderSpecificPage=e.renderSpecificPage.bind(Object(m.a)(e)),e.setAPIToken=e.setAPIToken.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"startQuiz",value:function(e,t,n,a){a?this.setState({timer:n}):this.setState({timer:null}),this.setState({timerSelected:a,playerName:e,score:0,totalQuestions:t,pageNum:2})}},{key:"setAPIToken",value:function(e){this.setState({sessionToken:e})}},{key:"playQuizAgain",value:function(){this.setState({pageNum:2})}},{key:"viewResults",value:function(e){this.setState({score:e,pageNum:3})}},{key:"renderSpecificPage",value:function(e){this.setState({pageNum:e})}},{key:"renderMainMenu",value:function(){return s.a.createElement(d,{startquiz:this.startQuiz,playername:this.state.playerName,totalquestions:this.state.totalQuestions,timer:this.state.timer,timerselected:this.state.timerSelected})}},{key:"renderQuiz",value:function(){return s.a.createElement(q,{playername:this.state.playerName,time:this.state.timer,timerselected:this.state.timerSelected,totalquestions:this.state.totalQuestions,viewresults:this.viewResults,token:this.state.sessionToken,settoken:this.setAPIToken})}},{key:"renderResults",value:function(){return s.a.createElement(N,{score:this.state.score,playername:this.state.playerName,totalquestions:this.state.totalQuestions,playquizagain:this.playQuizAgain,returntomainmenu:this.renderSpecificPage})}},{key:"renderSwitch",value:function(){switch(this.state.pageNum){case 1:return this.renderMainMenu();case 2:return this.renderQuiz();case 3:return this.renderResults()}}},{key:"render",value:function(){this.state.mainMenu?this.renderMainMenu():this.renderQuiz();return s.a.createElement("div",{className:"test1"},s.a.createElement("div",{className:"App"},this.renderSwitch()))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.95279d08.chunk.js.map